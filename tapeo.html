<!DOCTYPE html>
<html>
<head>



<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
<link rel="stylesheet" href="http://code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css">
<link rel="stylesheet" href="css/leaflet.awesome-markers.css">
<script src="js/leaflet.awesome-markers.js"></script>


<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin=""></script>


</head>
<style>
  #map {
    width: 780px;
    height: 780px;
    box-shadow: 5px 5px 5px #888;
 }
</style>
</html>
<body>
        <div id="map"></div>

<script>

// variables Mapa y Capas

var cities = L.layerGroup();

var mbAttr = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
    '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    'Imagery © <a href="http://mapbox.com">Mapbox</a>',
    mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

var grayscale   = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
    streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: mbAttr});

// Mapa

var map = L.map('map', { zoomControl:false, layers: [streets, cities] }).
  setView([37.19001, -3.62543],
 16);


// Capas gris y distritos

var capasBase = {
        "Gris": grayscale,
        "Distritos": streets
  };

var overlays = {
  };


L.control.layers(capasBase, overlays).addTo(map);
map.dragging.disable(capasBase);

// Establecimientos

var LeafIcon = L.Icon.extend({
        options: {
        }
});

var bar = new LeafIcon({iconUrl: '/home/daniel/leaflet/imagenes/bar.png'}),
    restaurante = new LeafIcon({iconUrl: '/home/daniel/leaflet/imagenes/restaurante.png'}),
    cafeteria = new LeafIcon({iconUrl: '/home/daniel/leaflet/imagenes/cafeteria.png'});


// Marcadores

L.marker([37.189470, -3.625434],{icon: restaurante}).addTo(map).bindPopup('<p><h2>Burguer Kabab</h2><img src="/home/daniel/leaflet/imagenes/kebab.png" width="100" height="100"/></p><hr><p>Valoración: 4,8 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),
L.marker([37.190042, -3.625178],{icon: bar}).addTo(map).bindPopup('<p><h2>Bar El Gallo</h2><img src="/home/daniel/leaflet/imagenes/gallo.png" width="100" height="100"/></p><hr><p>Sin valoración.</p>'),
L.marker([37.189700, -3.626201],{icon: bar}).addTo(map).bindPopup('<p><h2>Deluxe tapas bar granada</h2><img src="/home/daniel/leaflet/imagenes/deluxe.png" width="100" height="100"/></p><hr><p>Valoración: 3,9 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),
L.marker([37.190100, -3.624891],{icon: cafeteria}).addTo(map).bindPopup('<p><h2>Cafeteria Churreria ADRIANA</h2><img src="/home/daniel/leaflet/imagenes/adriana.png" width="100" height="100"/></p><hr><p>Valoración: 4,7 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),

L.marker([37.189964, -3.629997],{icon: cafeteria}).addTo(map).bindPopup('<p><h2>Café-Bar Casa Perla</h2><img src="/home/daniel/leaflet/imagenes/perla.png" width="100" height="100"/></p><hr><p>Valoración: 4,6 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),
L.marker([37.191778, -3.624747],{icon: bar}).addTo(map).bindPopup('<p><h2>Bar Granollers</h2><img src="/home/daniel/leaflet/imagenes/perla.png" width="100" height="100"/></p><hr><p>Valoración: 4,6 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),
L.marker([37.192323, -3.628253],{icon: bar}).addTo(map).bindPopup('<p><h2>Cafe-Bar Zeus</h2><img src="/home/daniel/leaflet/imagenes/zeus.png" width="100" height="100"/></p><hr><p>Valoración: 3,8 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),
L.marker([37.174432, -3.595608],{icon: cafeteria}).addTo(map).bindPopup('<p><h2>Café-Bar Las Mercedes</h2><img src="/home/daniel/leaflet/imagenes/mercedes.png" width="100" height="100"/></p><hr><p>Valoración: 4,3 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),
L.marker([37.190648, -3.628219],{icon: cafeteria}).addTo(map).bindPopup('<p><h2>Cafetería-Bar El Arenal</h2><img src="/home/daniel/leaflet/imagenes/arenal.png" width="100" height="100"/></p><hr><p>Valoración: 4,1 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),
L.marker([37.189025, -3.623173],{icon: restaurante}).addTo(map).bindPopup('<p><h2>Mesón-Restaurante "Las Perlas"</h2><img src="/home/daniel/leaflet/imagenes/lasPerlas.png" width="100" height="100"/></p><hr><p>Valoración: 4,6 <img src="/home/daniel/leaflet/imagenes/estrella.jpeg" width="20" height="20"/></p>'),


// Bloquear zoom

map.once('focus', function() { map.scrollWheelZoom.enable(); });
map.on('click', function() {
  if (map.scrollWheelZoom.enabled()) {
    map.scrollWheelZoom.disable();
    }
    else {
    map.scrollWheelZoom.enable();
    }
  });

</script>

</html>

